@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* New harmonized green palette */
    --primary-raw: 74 146 112; /* RGB for HSL conversion if needed */
    --primary-hsl: 146 33% 43%; /* #4A9270 - medical-feeling green */
    --primary-medium-hsl: 146 33% 53%; /* #6AB187 - complementary lighter green */
    --primary-dark-hsl: 146 33% 33%; /* Darker variant of primary */
    --primary-light-rgba: rgba(74, 146, 112, 0.05); /* Very light green for hover states */
    
    /* Warm accent for important actions */
    --accent-hsl: 33 71% 62%; /* #E09F5A - warm accent */
    
    /* Background and text colors */
    --sidebar-bg-hsl: 140 10% 97%; /* #F4F7F5 - Light green-tinted background */
    --sidebar-hover-hsl: 140 10% 94%; /* Slightly darker for hover states */
    --text-primary-hsl: 150 15% 21%; /* #2D3C35 - Dark green-gray for primary text */
    --text-secondary-hsl: 150 10% 39%; /* #5A6D64 - Medium green-gray for secondary text */
    --text-muted-hsl: 150 5% 60%; /* Muted text color */
    --border-color-hsl: 140 10% 90%; /* #E1EAE5 - Light green-tinted border */
    --bg-color-hsl: 0 0% 100%; /* #ffffff */
    --bg-alt-hsl: 140 20% 99%; /* #fafbfa - subtle green tint for body bg */

    /* Map to existing Tailwind CSS variables */
    --background: var(--bg-alt-hsl); /* Use #fafbfa for body */
    --foreground: var(--text-primary-hsl); /* #2D3C35 */
    
    --card: var(--bg-color-hsl); /* #ffffff */
    --card-foreground: var(--text-primary-hsl); /* #2D3C35 */
    
    --popover: var(--bg-color-hsl); /* #ffffff */
    --popover-foreground: var(--text-primary-hsl); /* #2D3C35 */
    
    /* Primary uses the new medical green */
    --primary: var(--primary-hsl); /* #4A9270 */
    --primary-foreground: 0 0% 100%; /* White text on primary green */
    
    /* Secondary accent - lighter green */
    --secondary: var(--primary-medium-hsl); /* #6AB187 */
    --secondary-foreground: 0 0% 100%; /* White text on secondary green */
    
    /* Muted uses sidebar bg color */
    --muted: var(--sidebar-bg-hsl); /* #F4F7F5 */
    --muted-foreground: var(--text-muted-hsl); /* Muted text */
    
    /* Accent - Warm orange for important actions */
    --accent: var(--accent-hsl); /* #E09F5A */
    --accent-foreground: 0 0% 100%; /* White text on accent */
    
    /* Secondary accent for additional color */
    --secondary-accent: var(--primary-medium-hsl); /* #6AB187 */
    --secondary-accent-foreground: 0 0% 100%; /* White text */

    /* Destructive - Keep existing red */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    
    /* Border and input use border-color */
    --border: var(--border-color-hsl); /* #E1EAE5 */
    --input: var(--border-color-hsl); /* Use border color for input border */
    --ring: var(--primary); /* Green focus ring */
    
    --radius: 0.5rem; /* Slightly larger radius for softer feel */

    /* Sidebar specific colors */
    --sidebar-background: var(--sidebar-bg-hsl); /* #F4F7F5 */
    --sidebar-foreground: var(--text-secondary-hsl); /* #5A6D64 */
    --sidebar-primary: var(--primary); /* Active text color #4A9270 */
    --sidebar-primary-foreground: var(--primary); /* Match active text */
    --sidebar-accent: var(--primary-light-rgba); /* Active background */
    --sidebar-accent-foreground: var(--primary); /* Active text color */
    --sidebar-border: var(--border-color-hsl); /* #E1EAE5 */
    --sidebar-ring: var(--primary); /* Green focus ring */
    --sidebar-hover-bg: var(--sidebar-hover-hsl); /* Hover background */
    --sidebar-hover-fg: var(--text-primary-hsl); /* #2D3C35 */
  }

  /* Remove dark mode block */
}

@layer base {
  * {
    /* Use new border color */
    @apply border-border selection:bg-primary/20 selection:text-primary; 
  }
  
  body {
    /* Use example base size (16px -> text-base), keep existing font-sans */
    @apply bg-background text-foreground font-sans antialiased text-base leading-normal font-normal; 
  }

  html {
    @apply scroll-smooth;
  }
}

/* Custom Utilities */
@layer utilities {
  .glass-card {
    @apply bg-white/80 backdrop-blur-sm border border-white/20 shadow-sm;
  }
  
  .subtle-shadow {
    @apply shadow-sm shadow-black/5;
  }
  
  .text-balance {
    text-wrap: balance;
  }

  /* Remove gradient utilities or update them if needed */
  /* .gradient-card { ... } */
}

/* Typography Adjustments - Match example sizes, keep existing font-display */
@layer components {
  /* Map h1 to welcome-title size (36px) */
  .h1 { 
    @apply text-[36px] font-display font-bold tracking-tight text-foreground; 
  } 
  /* Map h2 to a reasonable step down (e.g., 30px) */
  .h2 { 
    @apply text-3xl font-display font-bold tracking-tight text-foreground; 
  } 
  /* Map h3 to a reasonable step down (e.g., 24px) */
  .h3 { 
    @apply text-2xl font-display font-semibold tracking-tight text-foreground; 
  } 
  /* Map h4 to a reasonable step down (e.g., 20px) */
  .h4 { 
    @apply text-xl font-display font-semibold tracking-tight text-foreground; 
  } 
  /* Map p-large to welcome-subtitle/chat-input size (16px) */
  .p-large { 
    /* Use the CSS variable directly for text color */
    @apply text-base text-[hsl(var(--text-secondary-hsl))]; 
  } 
  /* Map p-small to nav-item/user-name/footer size (13px/14px -> use text-sm) */
  .p-small { 
    /* Use the standard text-muted-foreground utility */
    @apply text-sm text-muted-foreground; 
  }

  /* Remove default link underline added previously */
  /* a:not(.no-underline) { ... } */

  /* Other component styles can go here */
}

/* Animation Modifiers */
.animate-delay-100 {
  animation-delay: 100ms;
}

.animate-delay-200 {
  animation-delay: 200ms;
}

.animate-delay-300 {
  animation-delay: 300ms;
}

.animate-delay-400 {
  animation-delay: 400ms;
}

.animate-delay-500 {
  animation-delay: 500ms;
}

/* Modern card designs */
.card-modern {
  @apply rounded-lg border border-blue-100 bg-white p-6 shadow-sm transition-all hover:shadow-md;
}

.card-modern-gradient {
  @apply bg-gradient-to-br from-white to-blue-50;
}

.card-glass {
  @apply bg-white/30 backdrop-blur-lg border border-white/20;
}

/* Button effects */
.btn-glow {
  @apply relative overflow-hidden;
}

.btn-glow::after {
  @apply absolute inset-0 rounded-md opacity-0 transition-opacity content-[''];
  box-shadow: 0 0 20px 5px theme('colors.primary.DEFAULT');
}

.btn-glow:hover::after {
  @apply opacity-60;
}

/* Feature card styles */
.feature-card {
  @apply relative overflow-hidden rounded-lg border border-blue-100 bg-white p-6 shadow-sm transition-all hover:-translate-y-1 hover:shadow-md;
}

.feature-icon-container {
  @apply mb-5 flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600;
}

/* Form elements with gradients */
.input-gradient {
  @apply bg-background border border-input; /* Use new variables */
}

/* Remove page-gradient or update */
/* .page-gradient { ... } */

/* Remove card-hover-lift or update */
/* .card-hover-lift { ... } */
